<div class="pomodoro-container">
  <div class="pomodoro-header">
    <h3>ğŸ… Pomodoro Timer</h3>
    <p>Tecnica di produttivitÃ : 25 min lavoro + 5 min pausa</p>
  </div>

  <!-- Timer Circle -->
  <div class="timer-circle-container">
    <svg class="progress-ring" width="300" height="300">
      <circle
        class="progress-ring-bg"
        stroke="#e0e0e0"
        stroke-width="12"
        fill="transparent"
        r="140"
        cx="150"
        cy="150"
      />
      <circle
        class="progress-ring-fill"
        [attr.stroke]="getModeColor()"
        stroke-width="12"
        fill="transparent"
        r="140"
        cx="150"
        cy="150"
        [style.stroke-dasharray]="2 * Math.PI * 140"
        [style.stroke-dashoffset]="2 * Math.PI * 140 * (1 - progressPercentage() / 100)"
      />
    </svg>
    
    <div class="timer-display">
      <div class="timer-mode" [style.color]="getModeColor()">
        {{ getModeLabel() }}
      </div>
      <div class="timer-time">
        {{ formattedTime() }}
      </div>
      <div class="timer-count">
        ğŸ… Ã— {{ pomodoroCount() }}
      </div>
    </div>
  </div>

  <!-- Controls -->
  <div class="timer-controls">
    <button
      (click)="toggleTimer()"
      class="control-btn main-control"
      [class.running]="isRunning()"
    >
      {{ isRunning() ? 'â¸ï¸ Pausa' : 'â–¶ï¸ Inizia' }}
    </button>
    
    <button
      (click)="reset()"
      class="control-btn"
      [disabled]="!isRunning() && timeLeft() === WORK_TIME"
    >
      ğŸ”„ Reset
    </button>
  </div>

  <!-- Mode Selector -->
  <div class="mode-selector">
    <button
      (click)="setMode('work')"
      [class.active]="mode() === 'work'"
      [disabled]="isRunning()"
      class="mode-btn"
    >
      ğŸ’¼ Lavoro (25')
    </button>
    <button
      (click)="setMode('shortBreak')"
      [class.active]="mode() === 'shortBreak'"
      [disabled]="isRunning()"
      class="mode-btn"
    >
      â˜• Pausa (5')
    </button>
    <button
      (click)="setMode('longBreak')"
      [class.active]="mode() === 'longBreak'"
      [disabled]="isRunning()"
      class="mode-btn"
    >
      ğŸŒ´ Pausa Lunga (15')
    </button>
  </div>

  <!-- Info -->
  <div class="pomodoro-info">
    <h4>Come funziona:</h4>
    <ul>
      <li>ğŸ… 1 Pomodoro = 25 minuti di lavoro concentrato</li>
      <li>â˜• Pausa breve di 5 minuti tra i pomodori</li>
      <li>ğŸŒ´ Pausa lunga di 15 minuti ogni 4 pomodori</li>
      <li>ğŸ”” Notifiche vocali e browser alla fine</li>
    </ul>
  </div>
</div>
